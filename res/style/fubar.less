
//@import "/home/tong/dev/lib/om.style/res/style/vignette";
@import "../../../../lib/om.widget/res/style/widgets";

@c-0: #000;
@c-1: #f0f0f0;

@font-size: 20px;
@controls-size-inner: 32px;
@controls-size-outter: 44px;

////////////////////////////////////////////////////////////////////////////////

@font-face{
    font-family: 'Roboto';
    src: url('font/Roboto-Medium.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
}

@font-face{
    font-family: 'Helvetica';
    src: url('font/Helvetica Neue 65 Medium.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
}

////////////////////////////////////////////////////////////////////////////////

@keyframes fadeOut {
    from { opacity: 1; }
    100% { opacity: 0; }
}

@keyframes fadeIn {
    from { opacity: 0; }
    100% { opacity: 1; }
}

////////////////////////////////////////////////////////////////////////////////

html, body {
    width: 100%;
    height: 100%;
    min-width: 100%;
    min-height: 100%;
    margin: 0;
    padding: 0;
}

body {

    overflow: hidden;

    font-family: Roboto;
    font-size: 14px;
	-webkit-font-smoothing: antialiased;
	-webkit-tap-highlight-color: rgba(0,0,0,0);
	-webkit-tap-highlight-color: transparent;

    background: @c-0;
    color: @c-1;
}

img {
	-webkit-touch-callout: none;
	-webkit-user-drag: none;
	user-drag: none;
	-webkit-user-select: none;
	-moz-user-select: none;
}

input, select, option {
    font-family: Roboto;
    //font-size: @font-size;
    outline: none;
    border: none;
    color: @c-1;
}

input[type="search"]::-webkit-search-decoration,
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-results-button,
input[type="search"]::-webkit-search-results-decoration {
    display: none;
}

////////////////////////////////////////////////////////////////////////////////

@media screen only and (orientation:portrait) {
	// TODO
	.player {
		opacity: 0.2;
	}
}

////////////////////////////////////////////////////////////////////////////////

/*
.action-menu {

	.button {
	}

	.menu {
	}
}
*/

////////////////////////////////////////////////////////////////////////////////

#splash {
	display: none;
}

////////////////////////////////////////////////////////////////////////////////

#fubar {
}

////////////////////////////////////////////////////////////////////////////////

#intro.activity {

    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;

    z-index: 1000;

    img {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
        max-width: 640px;
        max-height: 60%;
		animation: fadeOut 0.2s ease-out 2.2s 1 both;
    }
}

////////////////////////////////////////////////////////////////////////////////

@keyframes item_inc {
    from { opacity: 0; }
    100% { opacity: 1; }
}
@keyframes item_out {
    from { opacity: 1; }
    100% { opacity: 0; }
}

@keyframes item_back_to_init {
    from {  }
    100% { left: 0; }
}
/*
@keyframes item_controls_show {
    from { transform: translate(0,100%); }
    100% { transform: translate(0,0); }
}
@keyframes item_controls_hide {
    from { transform: translate(0,0); }
    100% { transform: translate(0,100%); }
}*/

.player {

    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;

	z-index: 100;

	.background {

		position: absolute;
        width: 100%;
        height: 100%;
		background: #000;

		z-index: 101;
	}

    .media {

        position: absolute;
        width: 100%;
        height: 100%;
		z-index: 102;

        .item {

			position: absolute;
			width: 100%;
			height: 100%;
			-webkit-user-select: none;

			img {
				position: absolute;
				width: 100%;
				height: 100%;
				-webkit-user-select: none;
            }

			img.gif {
				display: none;
			}
            img.still {
				display: none;
			}

			.caption {
				font-size: 64px;
			}

			.slug {
				position: absolute;
				bottom: 2px;
				right: 4px;
				z-index: 2;
				//background: @c-0;
				color: @c-1;
				text-transform: uppercase;
				cursor: default;
			}
        }
        .item.inc {
			opacity: 0;
            animation: item_inc 0.3s ease-out 0.1s 1 both;
        }
        .item.out {
            animation: item_out 0.5s ease-out 0s 1 both;
        }
		.item.back_to_init {
			//animation: item_back_to_init 1s ease-in-out 0s 1 none;
		}

		/*
		.item > img.still {
			display: inline-block;
		}
		.item > img.media {
			display: none;
		}
		.item.playing > img.still {
			display: none;
		}
		.item.playing > img.media {
			display: inline-block;
		}
		*/
    }
}

.controls {

	position: fixed;
	right: 0;
	//bottom: @controls-size-outter + 10;
	left: 0;
	pointer-events: none;

	z-index: 200;
	//transition: transform 0.4s;

	.menu {

		position: fixed;
		z-index: 201;
		pointer-events: all;

		img.button {
			display: inline-block;
			float: left;
			width: @controls-size-inner;
			height: @controls-size-inner;
			padding: 6px 10px 6px 10px;
			cursor: pointer;
			opacity: 0.7;
			transition: opacity 0.2s;
		}

		img.button:hover {
			opacity: 1.0;
		}

		transition: transform 0.12s;
	}

	.menu.shown {
		//animation: item_controls_show 0.2s ease-in-out 0s 1 both;
		//transform: translate(0,0);
	}
	.menu.hidden {
		//animation: item_controls_hide 0.2s ease-in-out 0s 1 both;
		//transform: translate(0,100%);
	}

	.menu.autoplay {
		bottom: 2px;
	}

	.menu.mode {

		top: 2px;

		input[type="search"] {

			display: inline-block;
			float: left;
			width: 30px;
			min-width: 30px;
			max-width: 400px;
			padding: 10px 0px 7px 2px;

			font-family: Roboto;
			font-size: 20px;
			text-transform: uppercase;

			background: none;
		}

		.clear {
			display: none;
			position: relative;
			left: -14px;
			transition: opacity 0.15s;
		}
	}

	.menu.share {

		top: 2px;
		right: 2px;

		//.button {}

		.menu {

			position: absolute;
			top: 50px;
			-webkit-user-select: none;
			display: none;

			.option {
				cursor: pointer;
				.icon {}
				.textlabel {}
			}
			.option:hover {
				//color: #000;
			}
		}
	}
}

.controls.shown {
	//transform: translate(0,0);
}
.controls.hidden {
	//transform: translate(0,100%);
}

.statusbar {

	position: absolute;
	bottom: 0;
	left: 0;

	width: 0px;
	height: 1px;
	min-height: 1px;
	max-height: 1px;

	background: #fff;
	opacity: 0.2;
	//mix-blend-mode: difference;

	z-index: 103;
}

////////////////////////////////////////////////////////////////////////////////

#play.activity {
}

////////////////////////////////////////////////////////////////////////////////

#about.activity {

	overflow: hidden;

	canvas {
		z-index: 1;
		width:100%;
		height: 100%;
		position: absolute;
		top: 0;
		right: 0;
		bottom: 0;
		left: 0;
		//.vignette(20px,20px,40px,rgba(0,0,0,0.9));
		//box-shadow: 20px 20px 30px rgba(0,0,0,0.9) inset;
	}

	img {
		z-index: 2;
		position: absolute;
		top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
        max-width: 640px;
        max-height: 60%;
        //animation: fadeIn 0.2s ease-out 2.0s 1 both;
	//	box-shadow: 20px 20px 50px rgba(0,0,0,0.4);
	}

	/*
	canvas.tetroid {
		position: fixed;
	    top: 50%;
	    right: 50%;
	    bottom: 50%;
	    left: 50%;
		transform: translate(-50%,-50%);
		z-index: 1000;
		margin-left: auto;
    	margin-right: auto;
		vertical-align: middle;
		//mix-blend-mode: difference;
		//background: #0000ff;

	}
	*/
}

////////////////////////////////////////////////////////////////////////////////

.vignette ( @offsetX, @offsetY, @blur, @color:rgba(0,0,0,0.5) ) {
    box-shadow:
        @offsetX @offsetY @blur @color inset,
        -@offsetX -@offsetY @blur @color inset;
}

#vignette {

    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;

	.vignette( 70px, 70px, 170px, rgba(0,0,0,0.5) );

    z-index: 5;
}
